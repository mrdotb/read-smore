const n={blockClassName:"read-smore",wordsCount:30,charsCount:null,moreText:"Read More",lessText:"Read Less",isInline:!1,linkElement:"a"};function e(e,t){t=Object.assign({},n,t);let r={originalContentArr:[],truncatedContentArr:[]};function a(n){return void 0!==n.dataset.readSmoreChars||null!==t.charsCount}function i(n,i){const o=function(n){return void 0!==n.dataset.readSmoreChars?parseInt(n.dataset.readSmoreChars):null!==t.charsCount?parseInt(t.charsCount):void 0!==n.dataset.readSmoreWords?parseInt(n.dataset.readSmoreWords):null!==t.wordsCount?parseInt(t.wordsCount):void 0}(n),d=n.innerHTML,c=function(n,e,t=!1){const r=function(n){return n.replace(/(^\s*)|(\s*$)/gi,"")}(n);return t?r.split("").slice(0,e-1).join("")+"...":r.split(/\s+/).slice(0,e-1).join(" ")+"..."}(d,o,a(n)),u=a(n)?d.length:function(n){const e=function(n){return null!==n&&""!==n&&n.replace(/<[^>]+>/g,"")}(n).split(" ");return e.filter(n=>""!==n.trim()).length}(d);r.originalContentArr.push(d),r.truncatedContentArr.push(c),o<u&&(n.innerHTML=r.truncatedContentArr[i],function(n){const r=function(n){return void 0!==n.dataset.readSmoreInline||!0===t.isInline}(e[n]),a=document.createElement("span");a.className=`${t.blockClassName}__link-wrap`,a.innerHTML=`\n      <${t.linkElement}\n        class="${t.blockClassName}__link"\n        style="cursor:pointer"\n        aria-expanded="false"\n        tabIndex="0">\n          ${t.moreText}\n      </${t.linkElement}>\n    `,r&&l(e[n],a),e[n].after(a),function(n,r){const a=e[n].nextSibling.firstElementChild;a.addEventListener("click",e=>s(e,n,r)),a.addEventListener("keyup",e=>{13===e.keyCode&&"a"===t.linkElement&&s(e,n,r)})}(n,r)}(i))}function s(n,a,i){e[a].classList.toggle("is-expanded");const s=n.currentTarget;"true"!==s.dataset.clicked?(e[a].innerHTML=r.originalContentArr[a],s.innerHTML=t.lessText,s.dataset.clicked=!0,s.ariaExpanded=!0,i&&l(e[a])):(e[a].innerHTML=r.truncatedContentArr[a],s.innerHTML=t.moreText,s.dataset.clicked=!1,s.ariaExpanded=!1,i&&l(e[a]))}function l(n,e){n&&(n.lastElementChild.style.display="inline",n.style.display="inline"),e&&(e.style.display="inline")}return{init:function(){for(let n=0,t=e.length;n<t;++n)i(e[n],n)}}}export{e as default};
//# sourceMappingURL=index.modern.js.map
