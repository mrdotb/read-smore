var n={blockClassName:"read-smore",wordsCount:30,charsCount:null,moreText:"Read More",lessText:"Read Less",isInline:!1,linkElement:"a"};module.exports=function(e,t){t=Object.assign({},n,t);var r={originalContentArr:[],truncatedContentArr:[]};function a(n){return void 0!==n.dataset.readSmoreChars||null!==t.charsCount}function i(n,a,i){e[a].classList.toggle("is-expanded");var l=n.currentTarget;"true"!==l.dataset.clicked?(e[a].innerHTML=r.originalContentArr[a],l.innerHTML=t.lessText,l.dataset.clicked=!0,l.ariaExpanded=!0,i&&s(e[a])):(e[a].innerHTML=r.truncatedContentArr[a],l.innerHTML=t.moreText,l.dataset.clicked=!1,l.ariaExpanded=!1,i&&s(e[a]))}function s(n,e){n&&(n.lastElementChild.style.display="inline",n.style.display="inline"),e&&(e.style.display="inline")}return{init:function(){for(var n=0,l=e.length;n<l;++n)u=n,void 0,void 0,void 0,void 0,c=function(n){return void 0!==n.dataset.readSmoreChars?parseInt(n.dataset.readSmoreChars):null!==t.charsCount?parseInt(t.charsCount):void 0!==n.dataset.readSmoreWords?parseInt(n.dataset.readSmoreWords):null!==t.wordsCount?parseInt(t.wordsCount):void 0}(d=e[n]),p=function(n,e,t){void 0===t&&(t=!1);var r=function(n){return n.replace(/(^\s*)|(\s*$)/gi,"")}(n);return t?r.split("").slice(0,e-1).join("")+"...":r.split(/\s+/).slice(0,e-1).join(" ")+"..."}(m=d.innerHTML,c,a(d)),C=a(d)?m.length:(o=m,null!==o&&""!==o&&o.replace(/<[^>]+>/g,"")).split(" ").filter(function(n){return""!==n.trim()}).length,r.originalContentArr.push(m),r.truncatedContentArr.push(p),c<C&&(d.innerHTML=r.truncatedContentArr[u],function(n){var r=function(n){return void 0!==n.dataset.readSmoreInline||!0===t.isInline}(e[n]),a=document.createElement("span");a.className=t.blockClassName+"__link-wrap",a.innerHTML="\n      <"+t.linkElement+'\n        class="'+t.blockClassName+'__link"\n        style="cursor:pointer"\n        aria-expanded="false"\n        tabIndex="0">\n          '+t.moreText+"\n      </"+t.linkElement+">\n    ",r&&s(e[n],a),e[n].after(a),function(n,r){var a=e[n].nextSibling.firstElementChild;a.addEventListener("click",function(e){return i(e,n,r)}),a.addEventListener("keyup",function(e){13===e.keyCode&&"a"===t.linkElement&&i(e,n,r)})}(n,r)}(u));var o,d,u,c,m,p,C}}};
//# sourceMappingURL=index.js.map
