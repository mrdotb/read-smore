!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e||self).readSmore=n()}(this,function(){var e={blockClassName:"read-smore",wordsCount:30,charsCount:null,moreText:"Read More",lessText:"Read Less",isInline:!1,linkElement:"a"};return function(n,t){t=Object.assign({},e,t);var r={originalContentArr:[],truncatedContentArr:[]};function i(e){return void 0!==e.dataset.readSmoreChars||null!==t.charsCount}function a(e,i,a){n[i].classList.toggle("is-expanded");var s=e.currentTarget;"true"!==s.dataset.clicked?(n[i].innerHTML=r.originalContentArr[i],s.innerHTML=t.lessText,s.dataset.clicked=!0,s.ariaExpanded=!0,a&&o(n[i])):(n[i].innerHTML=r.truncatedContentArr[i],s.innerHTML=t.moreText,s.dataset.clicked=!1,s.ariaExpanded=!1,a&&o(n[i]))}function o(e,n){e&&(e.lastElementChild.style.display="inline",e.style.display="inline"),n&&(n.style.display="inline")}return{init:function(){for(var e=0,s=n.length;e<s;++e)u=e,void 0,void 0,void 0,void 0,c=function(e){return void 0!==e.dataset.readSmoreChars?parseInt(e.dataset.readSmoreChars):null!==t.charsCount?parseInt(t.charsCount):void 0!==e.dataset.readSmoreWords?parseInt(e.dataset.readSmoreWords):null!==t.wordsCount?parseInt(t.wordsCount):void 0}(d=n[e]),p=function(e,n,t){void 0===t&&(t=!1);var r=function(e){return e.replace(/(^\s*)|(\s*$)/gi,"")}(e);return t?r.split("").slice(0,n-1).join("")+"...":r.split(/\s+/).slice(0,n-1).join(" ")+"..."}(f=d.innerHTML,c,i(d)),m=i(d)?f.length:(l=f,null!==l&&""!==l&&l.replace(/<[^>]+>/g,"")).split(" ").filter(function(e){return""!==e.trim()}).length,r.originalContentArr.push(f),r.truncatedContentArr.push(p),c<m&&(d.innerHTML=r.truncatedContentArr[u],function(e){var r=function(e){return void 0!==e.dataset.readSmoreInline||!0===t.isInline}(n[e]),i=document.createElement("span");i.className=t.blockClassName+"__link-wrap",i.innerHTML="\n      <"+t.linkElement+'\n        class="'+t.blockClassName+'__link"\n        style="cursor:pointer"\n        aria-expanded="false"\n        tabIndex="0">\n          '+t.moreText+"\n      </"+t.linkElement+">\n    ",r&&o(n[e],i),n[e].after(i),function(e,r){var i=n[e].nextSibling.firstElementChild;i.addEventListener("click",function(n){return a(n,e,r)}),i.addEventListener("keyup",function(n){13===n.keyCode&&"a"===t.linkElement&&a(n,e,r)})}(e,r)}(u));var l,d,u,c,f,p,m}}}});
//# sourceMappingURL=index.umd.js.map
